!function(t){function e(e,i){function l(t){var e="transform WebkitTransform MozTransform OTransform msTransform".split(" ");"transition"===t&&(e="transition WebkitTransition MozTransition OTransition msTransition".split(" "));for(var i=0;i<e.length;i++)if(void 0!==document.createElement("div").style[e[i]]){if("transform"===t)return"transform"===e[i]?e[i]:"-"+e[i].replace("T","-t").toLowerCase();if("transition"===t)return"transition"===e[i]?e[i]:"-"+e[i].replace("T","-t").toLowerCase()}return!1}function s(e,i){var l="number"==typeof e?e:t(this).index(),s=l?x.transformString.replace("{{offset}}",l*x.slideWidth):"",n="width: "+x.slideCount*x.slideWidth+"px";x.index=l,x.$slider.attr("style",s+n),"number"!=typeof e&&x.autoMode&&(clearInterval(x.autoMode),e.stopPropagation()),x.$slideTitles.find("li").attr("class",""),i?0===l?(x.$slideTitles.find("li:eq("+(x.slideCount-1)+")").attr("class","title--auto title--right"),x.$slideTitles.find("li:eq("+l+")").attr("class","title--active title--auto")):(x.$slideTitles.find("li:eq("+(l-1)+")").attr("class",i?"title--right title--auto":"title--right").find(".title--l"),x.$slideTitles.find("li:eq("+l+")").attr("class",i?"title--active title--auto":"title--active")):x.$slideTitles.find("li:eq("+l+")").attr("class","title--active"),x.$arrows.left.toggleClass("jflex--hidden",0===x.index),x.$arrows.right.toggleClass("jflex--hidden",x.index===x.slideCount-1),x.$el.offset().height}function n(){var t=0;x.autoMode=setInterval(function(){t=t===x.slideCount-1?0:t+1,s(t,!0)},x.options.timing),x.$slideTitles.children().first().attr("class","title--active title--auto")}function a(){x.$slideTitles.children().first().attr("class","title--active")}function o(t){var e=t.originalEvent.changedTouches;e.length>1&&(t.preventDefault(),t.stopPropagation());var i=new Date;$.time=i.getTime(),$.x=e[0].pageX,$.y=e[0].pageY}function d(t){var e=t.originalEvent.changedTouches;e.length>1&&(t.preventDefault(),t.stopPropagation());var i=new Date,l={time:i.getTime(),x:e[0].pageX,y:e[0].pageY};if($.x){var s=l.x-$.x,n=l.y-$.y,a=l.time-$.time;if(300>a&&12>s&&12>n){t.preventDefault(),t.stopPropagation();var t=document.createEvent("Event");t.initEvent("click",!0,!0),this.dispatchEvent(t)}}}function r(){x.$slideTitles.children().bind("touchstart",o),x.$slideTitles.children().bind("touchend",d),x.$slideTitles.children().bind("click",s),x.$slides.find("img").bind("dragstart",function(t){t.preventDefault()}),t(window).bind("resize orientationchange",v)}function c(){function e(e){e.stopPropagation();var i=t(this).hasClass("jflex-arrow--left")?"left":"right";if(x.autoMode&&clearInterval(x.autoMode),!(0===x.index&&"left"===i||x.index===x.slideCount-1&&"right"===i)){var l="left"===i?x.index-1:x.index+1;s(l)}}var i='<div class="jflex-arrow jflex-arrow--left jflex--hidden"></div>';i+='<div class="jflex-arrow jflex-arrow--right"></div>',t(".jflex--wrapper").append(i);var l=t(".jflex-arrow");l.bind("touchstart",o),l.bind("touchend",d),l.bind("click",e),x.$arrows={left:l.eq(0),right:l.eq(1)}}function u(){function t(t){x.autoMode&&clearInterval(x.autoMode);var l="mousedown"===t.type?t.originalEvent:t.originalEvent.touches[0];n=l.pageX,x.$slider.bind("touchmove",e).bind("mousemove",e).bind("mouseleave",i).bind("mouseup",i).bind("touchend",i).bind("touchcancel",i).removeClass("slides--anim"),x.$slideTitles.children().removeClass("title--auto")}function e(t){var e="touchmove"===t.type?t.originalEvent.touches[0]:t.originalEvent,i=e.pageX;a=Math.round(i-n),l=0>a?"<":">";var s=Math.abs(x.index*x.slideWidth-a);">"===l&&0===x.index||"<"===l&&x.index===x.slideCount-1||x.$slider.attr("style",x.transformString.replace("{{offset}}",s)+"width: "+x.slideWidth*x.slideCount+"px;")}function i(t){var o="<"===l?x.index+1:x.index-1,d="touchend"===t.type||"touchcancel"===t.type?t.originalEvent.changedTouches[0]:t.originalEvent,r=d.pageX,c=x.index*x.slideWidth;return a=Math.round(r-n),x.$slider.unbind("touchmove",e).unbind("mousemove",e).unbind("mouseleave",i).unbind("mouseup",i).unbind("touchend",i).unbind("touchcancel",i).addClass("slides--anim"),">"===l&&0===x.index||"<"===l&&x.index===x.slideCount-1?void 0:a>140||-140>a?void s(o):void x.$slider.attr("style",x.transformString.replace("{{offset}}",c)+"width: "+x.slideWidth*x.slideCount+"px;")}var l,n,a=0;x.$slider.bind("touchstart",t),x.$slider.bind("mousedown",t)}function f(){x.$el.addClass("jFlex"),x.$slider=x.$el.children(),x.$slides=x.$slider.children(),t.each(x.$slides,function(){t(this).attr("data-title")||(x.hasTitles=!1)}),x.slideCount=x.$slides.length,x.slideWidth=x.$el.width();var e=l("transform");x.transformString=e?e+": translate3d(-{{offset}}px, 0, 0); ":"left: -{{offset}}px; ",x.$slides.width(x.slideWidth+"px"),x.$el.children().width(x.slideCount*x.slideWidth+"px");var i=e?"slides--anim-css":"slides--anim-js";x.$slideTitles=t('<ul class="slides--titles '+i+'"></ul>')}function h(){var e=l("transition");if(e){var i="dark"===x.options.theme&&"#555"===x.options.highlightColor?"#fff":x.options.highlightColor,s=x.options.timing/1e3,n=document.createElement("style"),a=".slides--titles li.title--auto.title--active .title--l { "+e+": all linear "+s+"s; }";a+=".slides--titles li .title--l {background: "+i+";}",a+=".slides--titles .title--active .title--t, .jflex--dark .slides--titles .title--active .title--t {color: "+i+";}",n.type="text/css",n.appendChild(document.createTextNode(a)),t("body").append(n)}}function p(){x.$slider.addClass("slides--anim")}function v(){var t=x.index?"transform: translate3d(-"+x.index*x.slideWidth+"px, 0, 0); ":"";x.slideWidth=x.$el.width(),x.$slider.attr("style",t+"width: "+x.slideCount*x.slideWidth+"px"),x.$slides.width(x.slideWidth+"px")}function g(){var t="flex jFlex ",e=x.options.customClass?x.options.customClass+" ":"",i="jflex--"+x.$slides.length.toString(),l="dark"===x.options.theme?" jflex--dark":"",s=x.hasTitles?"":" jflex--nt";t+=e+i+l+s,x.$el.attr("class",t)}function m(){var e;x.$slider.wrap('<div class="jflex--wrapper"></div>'),"bottom"===x.options.titles?(x.$el.append(x.$slideTitles),e='<li data-title="{{i}}"><span class="title--l"></span><span class="title--t">{{title}}</span></li>'):(x.$el.prepend(x.$slideTitles),e='<li data-title="{{i}}"><span class="title--t">{{title}}</span><span class="title--l"></span></li>');for(var i="",l=0;l<x.slideCount;l++){var s=t(x.$slides[l]).attr("data-title")?t(x.$slides[l]).attr("data-title"):"";i+=e.replace("{{i}}",l).replace("{{title}}",s)}x.$slideTitles.append(i),x.options.autoplay&&"5000"!==x.options.timing&&h(),x.$slideTitles.height()}var x=this;x.autoMode=null,x.el=e,x.$el=t(e),x.index=0,x.hasTitles=!0,x.defaultOptions={autoplay:!1,customClass:"",fx:"slide",highlightColor:"#555",showArrows:!1,swipeable:!0,theme:"light",timing:5e3,titles:"top"},x.options=t.extend({},x.defaultOptions,i);var $={};x.init=function(){return f(),x.slideCount<2?void console.error("Your HTML must contain at least two slides to flex."):(g(),m(),r(),"string"==typeof x.options.fx&&"slide"===x.options.fx&&p(),x.options.swipeable&&u(),x.options.showArrows&&c(),void(x.options.autoplay?n():a()))},x.init()}t.fn.jFlex=function(t){return this.each(function(){new e(this,t)})}}(jQuery);