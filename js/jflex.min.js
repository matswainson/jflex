!function(t){function i(i,e){function l(t){var i="transform WebkitTransform MozTransform OTransform msTransform".split(" ");"transition"===t&&(i="transition WebkitTransition MozTransition OTransition msTransition".split(" "));for(var e=0;e<i.length;e++)if(void 0!==document.createElement("div").style[i[e]]){if("transform"===t)return"transform"===i[e]?i[e]:"-"+i[e].replace("T","-t").toLowerCase();if("transition"===t)return"transition"===i[e]?i[e]:"-"+i[e].replace("T","-t").toLowerCase()}return!1}function s(i,e){var l="number"==typeof i?i:t(this).index(),s=l?x.transformString.replace("{{offset}}",l*x.slideWidth):"",n="width: "+x.slideCount*x.slideWidth+"px";x.index=l,x.$slider.attr("style",s+n),"number"!=typeof i&&x.autoMode&&clearInterval(x.autoMode),x.$slideTitles.find("li").attr("class",""),e?0===l?(x.$slideTitles.find("li:eq("+(x.slideCount-1)+")").attr("class","title--auto title--right"),x.$slideTitles.find("li:eq("+l+")").attr("class","title--active title--auto")):(x.$slideTitles.find("li:eq("+(l-1)+")").attr("class",e?"title--right title--auto":"title--right").find(".title--l"),x.$slideTitles.find("li:eq("+l+")").attr("class",e?"title--active title--auto":"title--active")):x.$slideTitles.find("li:eq("+l+")").attr("class","title--active"),x.$arrows.left.toggleClass("jflex--hidden",0===x.index),x.$arrows.right.toggleClass("jflex--hidden",x.index===x.slideCount-1),x.$el.offset().height}function n(){var t=0;x.autoMode=setInterval(function(){t=t===x.slideCount-1?0:t+1,s(t,!0)},x.options.timing),x.$slideTitles.children().first().attr("class","title--active title--auto")}function o(){x.$slideTitles.children().first().attr("class","title--active")}function a(){x.$slideTitles.children().bind("click",s),x.$slides.find("img").bind("dragstart",function(t){t.preventDefault()}),t(window).bind("resize orientationchange",h)}function d(){function i(){var i=t(this).hasClass("jflex-arrow--left")?"left":"right";if(x.autoMode&&clearInterval(x.autoMode),!(0===x.index&&"left"===i||x.index===x.slideCount-1&&"right"===i)){var e="left"===i?x.index-1:x.index+1;s(e)}}var e='<div class="jflex-arrow jflex-arrow--left jflex--hidden"></div>';e+='<div class="jflex-arrow jflex-arrow--right"></div>',t(".jflex--wrapper").append(e),t(".jflex-arrow").bind("click",i),x.$arrows={left:t(".jflex-arrow--left"),right:t(".jflex-arrow--right")}}function r(){function t(t){x.autoMode&&clearInterval(x.autoMode);var l="mousedown"===t.type?t.originalEvent:t.originalEvent.touches[0];n=l.pageX,x.$slider.bind("touchmove",i).bind("mousemove",i).bind("mouseleave",e).bind("mouseup",e).bind("touchend",e).bind("touchcancel",e).removeClass("slides--anim"),x.$slideTitles.children().removeClass("title--auto")}function i(t){var i="touchmove"===t.type?t.originalEvent.touches[0]:t.originalEvent,e=i.pageX;o=Math.round(e-n),l=0>o?"<":">";var s=Math.abs(x.index*x.slideWidth-o);">"===l&&0===x.index||"<"===l&&x.index===x.slideCount-1||x.$slider.attr("style",x.transformString.replace("{{offset}}",s)+"width: "+x.slideWidth*x.slideCount+"px;")}function e(t){var a="<"===l?x.index+1:x.index-1,d="touchend"===t.type||"touchcancel"===t.type?t.originalEvent.changedTouches[0]:t.originalEvent,r=d.pageX,u=x.index*x.slideWidth;return o=Math.round(r-n),x.$slider.unbind("touchmove",i).unbind("mousemove",i).unbind("mouseleave",e).unbind("mouseup",e).unbind("touchend",e).unbind("touchcancel",e).addClass("slides--anim"),">"===l&&0===x.index||"<"===l&&x.index===x.slideCount-1?void 0:o>140||-140>o?void s(a):void x.$slider.attr("style",x.transformString.replace("{{offset}}",u)+"width: "+x.slideWidth*x.slideCount+"px;")}var l,n,o=0;x.$slider.bind("touchstart",t),x.$slider.bind("mousedown",t)}function u(){x.$el.addClass("jFlex"),x.$slider=x.$el.children(),x.$slides=x.$slider.children(),t.each(x.$slides,function(){t(this).attr("data-title")||(x.hasTitles=!1)}),x.slideCount=x.$slides.length,x.slideWidth=x.$el.width();var i=l("transform");x.transformString=i?i+": translate3d(-{{offset}}px, 0, 0); ":"left: -{{offset}}px; ",x.$slides.width(x.slideWidth+"px"),x.$el.children().width(x.slideCount*x.slideWidth+"px");var e=i?"slides--anim-css":"slides--anim-js";x.$slideTitles=t('<ul class="slides--titles '+e+'"></ul>')}function c(){var i=l("transition");if(i){var e="dark"===x.options.theme&&"#555"===x.options.highlightColor?"#fff":x.options.highlightColor,s=x.options.timing/1e3,n=document.createElement("style"),o=".slides--titles li.title--auto.title--active .title--l { "+i+": all linear "+s+"s; }";o+=".slides--titles li .title--l {background: "+e+";}",o+=".slides--titles .title--active .title--t, .jflex--dark .slides--titles .title--active .title--t {color: "+e+";}",n.type="text/css",n.appendChild(document.createTextNode(o)),t("body").append(n)}}function f(){x.$slider.addClass("slides--anim")}function h(){var t=x.index?"transform: translate3d(-"+x.index*x.slideWidth+"px, 0, 0); ":"";x.slideWidth=x.$el.width(),x.$slider.attr("style",t+"width: "+x.slideCount*x.slideWidth+"px"),x.$slides.width(x.slideWidth+"px")}function p(){var t="flex jFlex ",i=x.options.customClass?x.options.customClass+" ":"",e="jflex--"+x.$slides.length.toString(),l="dark"===x.options.theme?" jflex--dark":"",s=x.hasTitles?"":" jflex--nt";t+=i+e+l+s,x.$el.attr("class",t)}function v(){var i;x.$slider.wrap('<div class="jflex--wrapper"></div>'),"bottom"===x.options.titles?(x.$el.append(x.$slideTitles),i='<li data-title="{{i}}"><span class="title--l"></span><span class="title--t">{{title}}</span></li>'):(x.$el.prepend(x.$slideTitles),i='<li data-title="{{i}}"><span class="title--t">{{title}}</span><span class="title--l"></span></li>');for(var e="",l=0;l<x.slideCount;l++){var s=t(x.$slides[l]).attr("data-title")?t(x.$slides[l]).attr("data-title"):"";e+=i.replace("{{i}}",l).replace("{{title}}",s)}x.$slideTitles.append(e),x.options.autoplay&&"5000"!==x.options.timing&&c(),x.$slideTitles.height()}var x=this;x.autoMode=null,x.el=i,x.$el=t(i),x.index=0,x.hasTitles=!0,x.defaultOptions={autoplay:!1,customClass:"",fx:"slide",highlightColor:"#555",showArrows:!1,swipeable:!0,theme:"light",timing:5e3,titles:"top"},x.options=t.extend({},x.defaultOptions,e),x.init=function(){return u(),x.slideCount<2?void console.error("Your HTML must contain at least two slides to flex."):(p(),v(),a(),"string"==typeof x.options.fx&&"slide"===x.options.fx&&f(),x.options.swipeable&&r(),x.options.showArrows&&d(),void(x.options.autoplay?n():o()))},x.init()}t.fn.jFlex=function(t){return this.each(function(){new i(this,t)})}}(jQuery);