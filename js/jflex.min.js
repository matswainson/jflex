!function(t){function i(i,e){function l(t){var i="transform WebkitTransform MozTransform OTransform msTransform".split(" ");"transition"===t&&(i="transition WebkitTransition MozTransition OTransition msTransition".split(" "));for(var e=0;e<i.length;e++)if(void 0!==document.createElement("div").style[i[e]]){if("transform"===t)return"transform"===i[e]?i[e]:"-"+i[e].replace("T","-t").toLowerCase();if("transition"===t)return"transition"===i[e]?i[e]:"-"+i[e].replace("T","-t").toLowerCase()}return!1}function s(i,e){var l="number"==typeof i?i:t(this).index(),s=l?p.transformString.replace("{{offset}}",l*p.slideWidth):"",n="width: "+p.slideCount*p.slideWidth+"px";p.index=l,p.$slider.attr("style",s+n),"number"!=typeof i&&p.autoMode&&clearInterval(p.autoMode),p.$slideTitles.find("li").attr("class",""),e?0===l?(p.$slideTitles.find("li:eq("+(p.slideCount-1)+")").attr("class","title--auto title--right"),p.$slideTitles.find("li:eq("+l+")").attr("class","title--active title--auto")):(p.$slideTitles.find("li:eq("+(l-1)+")").attr("class",e?"title--right title--auto":"title--right").find(".title--l"),p.$slideTitles.find("li:eq("+l+")").attr("class",e?"title--active title--auto":"title--active")):p.$slideTitles.find("li:eq("+l+")").attr("class","title--active"),p.$el.offset().height}function n(){var t=0;p.autoMode=setInterval(function(){t=t===p.slideCount-1?0:t+1,s(t,!0)},p.options.timing),p.$slideTitles.children().first().attr("class","title--active title--auto")}function d(){p.$slideTitles.children().first().attr("class","title--active")}function a(){p.$slideTitles.children().bind("click",s),p.$slides.find("img").bind("dragstart",function(t){t.preventDefault()}),t(window).bind("resize orientationchange",f)}function o(){function t(t){p.autoMode&&clearInterval(p.autoMode);var l="mousedown"===t.type?t.originalEvent:t.originalEvent.touches[0];n=l.pageX,p.$slider.bind("touchmove",i).bind("mousemove",i).bind("mouseleave",e).bind("mouseup",e).bind("touchend",e).bind("touchcancel",e).removeClass("slides--anim"),p.$slideTitles.children().removeClass("title--auto")}function i(t){var i="touchmove"===t.type?t.originalEvent.touches[0]:t.originalEvent,e=i.pageX;d=Math.round(e-n),l=0>d?"<":">";var s=Math.abs(p.index*p.slideWidth-d);">"===l&&0===p.index||"<"===l&&p.index===p.slideCount-1||p.$slider.attr("style",p.transformString.replace("{{offset}}",s)+"width: "+p.slideWidth*p.slideCount+"px;")}function e(t){var a="<"===l?p.index+1:p.index-1,o="touchend"===t.type||"touchcancel"===t.type?t.originalEvent.changedTouches[0]:t.originalEvent,r=o.pageX,u=p.index*p.slideWidth;return d=Math.round(r-n),p.$slider.unbind("touchmove",i).unbind("mousemove",i).unbind("mouseleave",e).unbind("mouseup",e).unbind("touchend",e).unbind("touchcancel",e).addClass("slides--anim"),">"===l&&0===p.index||"<"===l&&p.index===p.slideCount-1?void 0:d>140||-140>d?void s(a):void p.$slider.attr("style",p.transformString.replace("{{offset}}",u)+"width: "+p.slideWidth*p.slideCount+"px;")}var l,n,d=0;p.$slider.bind("touchstart",t),p.$slider.bind("mousedown",t)}function r(){p.$el.addClass("jFlex"),p.$slider=p.$el.children(),p.$slides=p.$slider.children(),p.slideCount=p.$slides.length,p.slideWidth=p.$el.width();var i=l("transform");p.transformString=i?i+": translate3d(-{{offset}}px, 0, 0); ":"left: -{{offset}}px; ",p.$slides.width(p.slideWidth+"px"),p.$el.children().width(p.slideCount*p.slideWidth+"px"),p.$slideTitles=t('<ul class="slides--titles"></ul>')}function u(){var i=l("transition");if(i){var e=p.options.timing/1e3,s=document.createElement("style"),n=".slides--titles li.title--auto.title--active .title--l { "+i+": all linear "+e+"s; }";s.type="text/css",s.appendChild(document.createTextNode(n)),t("body").append(s)}}function c(){p.$slider.addClass("slides--anim")}function f(){var t=p.index?"transform: translate3d(-"+p.index*p.slideWidth+"px, 0, 0); ":"";p.slideWidth=p.$el.width(),p.$slider.attr("style",t+"width: "+p.slideCount*p.slideWidth+"px"),p.$slides.width(p.slideWidth+"px")}function h(){var i;"bottom"===p.options.titles?(p.$el.append(p.$slideTitles),i='<li data-title="{{i}}"><span class="title--l"></span><span class="title--t">{{title}}</span></li>'):(p.$el.prepend(p.$slideTitles),i='<li data-title="{{i}}"><span class="title--t">{{title}}</span><span class="title--l"></span></li>');for(var e="",l=0;l<p.slideCount;l++){var s=t(p.$slides[l]).attr("data-title")?t(p.$slides[l]).attr("data-title"):"";e+=i.replace("{{i}}",l).replace("{{title}}",s)}p.$slideTitles.append(e);var n=(p.$slideTitles.height(),"6");(2===p.$slides.length||3===p.$slides.length||4===p.$slides.length||5===p.$slides.length)&&(n=p.$slides.length),p.options.autoplay&&"5000"!==p.options.timing&&u(),p.$el.addClass("jflex--"+p.slideCount)}var p=this;p.autoMode=null,p.el=i,p.$el=t(i),p.index=0,p.defaultOptions={autoplay:!1,fx:"slide",timing:5e3,titles:"top"},p.options=t.extend({},p.defaultOptions,e),p.init=function(){return r(),p.slideCount<2?void console.error("Your HTML must contain at least two slides to flex."):(h(),a(),"string"==typeof p.options.fx&&"slide"===p.options.fx&&(c(),o()),void(p.options.autoplay?n():d()))},p.init()}t.fn.jFlex=function(t){return this.each(function(){new i(this,t)})}}(jQuery);