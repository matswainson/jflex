!function(t){function i(i,e){function l(t){var i="transform WebkitTransform MozTransform OTransform msTransform".split(" ");"transition"===t&&(i="transition WebkitTransition MozTransition OTransition msTransition".split(" "));for(var e=0;e<i.length;e++)if(void 0!==document.createElement("div").style[i[e]]){if("transform"===t)return"transform"===i[e]?i[e]:"-"+i[e].replace("T","-t").toLowerCase();if("transition"===t)return"transition"===i[e]?i[e]:"-"+i[e].replace("T","-t").toLowerCase()}return!1}function s(i,e){var l="number"==typeof i?i:t(this).index(),s=l?v.transformString.replace("{{offset}}",l*v.slideWidth):"",n="width: "+v.slideCount*v.slideWidth+"px";v.index=l,v.$slider.attr("style",s+n),"number"!=typeof i&&v.autoMode&&clearInterval(v.autoMode),v.$slideTitles.find("li").attr("class",""),e?0===l?(v.$slideTitles.find("li:eq("+(v.slideCount-1)+")").attr("class","title--auto title--right"),v.$slideTitles.find("li:eq("+l+")").attr("class","title--active title--auto")):(v.$slideTitles.find("li:eq("+(l-1)+")").attr("class",e?"title--right title--auto":"title--right").find(".title--l"),v.$slideTitles.find("li:eq("+l+")").attr("class",e?"title--active title--auto":"title--active")):v.$slideTitles.find("li:eq("+l+")").attr("class","title--active"),v.$el.offset().height}function n(){var t=0;v.autoMode=setInterval(function(){t=t===v.slideCount-1?0:t+1,s(t,!0)},v.options.timing),v.$slideTitles.children().first().attr("class","title--active title--auto")}function o(){v.$slideTitles.children().first().attr("class","title--active")}function a(){v.$slideTitles.children().bind("click",s),v.$slides.find("img").bind("dragstart",function(t){t.preventDefault()}),t(window).bind("resize orientationchange",h)}function d(){function i(){var i=t(this).hasClass("jflex-arrow--left")?"left":"right";if(v.autoMode&&clearInterval(v.autoMode),!(0===v.index&&"left"===i||v.index===v.slideCount-1&&"right"===i)){var e="left"===i?v.index-1:v.index+1;s(e)}}var e='<div class="jflex-arrow jflex-arrow--left"></div>';e+='<div class="jflex-arrow jflex-arrow--right"></div>',t(".jflex--wrapper").append(e),t(".jflex-arrow").bind("click",i)}function r(){function t(t){v.autoMode&&clearInterval(v.autoMode);var l="mousedown"===t.type?t.originalEvent:t.originalEvent.touches[0];n=l.pageX,v.$slider.bind("touchmove",i).bind("mousemove",i).bind("mouseleave",e).bind("mouseup",e).bind("touchend",e).bind("touchcancel",e).removeClass("slides--anim"),v.$slideTitles.children().removeClass("title--auto")}function i(t){var i="touchmove"===t.type?t.originalEvent.touches[0]:t.originalEvent,e=i.pageX;o=Math.round(e-n),l=0>o?"<":">";var s=Math.abs(v.index*v.slideWidth-o);">"===l&&0===v.index||"<"===l&&v.index===v.slideCount-1||v.$slider.attr("style",v.transformString.replace("{{offset}}",s)+"width: "+v.slideWidth*v.slideCount+"px;")}function e(t){var a="<"===l?v.index+1:v.index-1,d="touchend"===t.type||"touchcancel"===t.type?t.originalEvent.changedTouches[0]:t.originalEvent,r=d.pageX,u=v.index*v.slideWidth;return o=Math.round(r-n),v.$slider.unbind("touchmove",i).unbind("mousemove",i).unbind("mouseleave",e).unbind("mouseup",e).unbind("touchend",e).unbind("touchcancel",e).addClass("slides--anim"),">"===l&&0===v.index||"<"===l&&v.index===v.slideCount-1?void 0:o>140||-140>o?void s(a):void v.$slider.attr("style",v.transformString.replace("{{offset}}",u)+"width: "+v.slideWidth*v.slideCount+"px;")}var l,n,o=0;v.$slider.bind("touchstart",t),v.$slider.bind("mousedown",t)}function u(){v.$el.addClass("jFlex"),v.$slider=v.$el.children(),v.$slides=v.$slider.children(),v.slideCount=v.$slides.length,v.slideWidth=v.$el.width();var i=l("transform");v.transformString=i?i+": translate3d(-{{offset}}px, 0, 0); ":"left: -{{offset}}px; ",v.$slides.width(v.slideWidth+"px"),v.$el.children().width(v.slideCount*v.slideWidth+"px");var e=i?"slides--anim-css":"slides--anim-js";v.$slideTitles=t('<ul class="slides--titles '+e+'"></ul>')}function c(){var i=l("transition");if(i){var e="dark"===v.options.theme&&"#555"===v.options.highlightColor?"#fff":v.options.highlightColor,s=v.options.timing/1e3,n=document.createElement("style"),o=".slides--titles li.title--auto.title--active .title--l { "+i+": all linear "+s+"s; }";o+=".slides--titles li .title--l {background: "+e+";}",o+=".slides--titles .title--active .title--t, .jflex--dark .slides--titles .title--active .title--t {color: "+e+";}",n.type="text/css",n.appendChild(document.createTextNode(o)),t("body").append(n)}}function f(){v.$slider.addClass("slides--anim")}function h(){var t=v.index?"transform: translate3d(-"+v.index*v.slideWidth+"px, 0, 0); ":"";v.slideWidth=v.$el.width(),v.$slider.attr("style",t+"width: "+v.slideCount*v.slideWidth+"px"),v.$slides.width(v.slideWidth+"px")}function p(){var i;v.$slider.wrap('<div class="jflex--wrapper"></div>'),"bottom"===v.options.titles?(v.$el.append(v.$slideTitles),i='<li data-title="{{i}}"><span class="title--l"></span><span class="title--t">{{title}}</span></li>'):(v.$el.prepend(v.$slideTitles),i='<li data-title="{{i}}"><span class="title--t">{{title}}</span><span class="title--l"></span></li>');for(var e="",l=0;l<v.slideCount;l++){var s=t(v.$slides[l]).attr("data-title")?t(v.$slides[l]).attr("data-title"):"";e+=i.replace("{{i}}",l).replace("{{title}}",s)}v.$slideTitles.append(e),v.options.autoplay&&"5000"!==v.options.timing&&c();var n="dark"===v.options.theme?"jflex--dark ":"";v.$el.addClass(n+"jflex--"+v.$slides.length.toString()),v.$slideTitles.height()}var v=this;v.autoMode=null,v.el=i,v.$el=t(i),v.index=0,v.defaultOptions={autoplay:!1,fx:"slide",highlightColor:"#555",showArrows:!1,swipeable:!0,theme:"light",timing:5e3,titles:"top"},v.options=t.extend({},v.defaultOptions,e),v.init=function(){return u(),v.slideCount<2?void console.error("Your HTML must contain at least two slides to flex."):(p(),a(),"string"==typeof v.options.fx&&"slide"===v.options.fx&&f(),v.options.swipeable&&r(),v.options.autoplay?n():o(),void(v.options.showArrows&&d()))},v.init()}t.fn.jFlex=function(t){return this.each(function(){new i(this,t)})}}(jQuery);